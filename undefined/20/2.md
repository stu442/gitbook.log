# 2장 실용주의 접근법

### 8. 좋은 설계의 핵심

> 좋은 설계는 나쁜 설계보다 바꾸기 쉽다.

바꾸기 더 쉽게 (ETC) 이게 전부다.

의식적으로 노력해라.\
'내가 방금 한 일이 전체 시스템을 바꾸기 쉽게 만들었을까?'

상식은 대개 통하고, 지식을 바탕으로 추측할 수 있을 것이다.

'바꾸기 쉽게'라는 길을 택해라.

### 9. DRY: 중복의 해악

개발을 이해하고 유지 보수하기 쉽게 만드는 유일한 길은 DRY 원칙이다.

> 모든 지식은 시스템 내에서 단 한 번만, 애매하지 않고, 권위 있게 표현되어야 한다.

DRY: 반복하지 말라(Don't Repeat Yourself)

DRY는 지식의 중복, 의도의 중복에 대한 것이다.\
똑같은 개념을 다른 두 곳에 표현하면 안 된다는 것이다.

그래서 모든 코드 중복이 지식의 중복은 아니다.

### 10. 직교성

직교성은 설계와 빌드, 테스트, 확장이 쉬운 시스템을 만드는 데에 있어 매우 중요한 개념이다.

결합도 줄이기를 의미한다.\
하나가 바뀌어도 나머지 어떤 영향도 주지 않으면 서로 직교한다고 할 수 있다.

관련 없는 것들 간에 서로 영향이 없도록 하라.

#### 설계

시스템은 서로 협력하는 모듈의 집합으로 구성되어야 하고,\
각 모듈은 다른 부분과 독립적인 기능을 구현해야 한다.

'특정 기능에 대한 요구 사항을 대폭 변경하는 경우 몇 개의 모듈이 영향을 받는가?'\
직교적인 시스템에서는 답이 '하나'여야 한다.

#### 코딩

코드를 작성할 때마다 여러분은 애플리케이션의 직교성을 떨어트릴 위험을 감수하는 셈이다.

* 코드의 결합도를 줄여라.
  * 불필요한 것은 다른 모듈에 보여주지 않으며, 다른 모듈의 구현에 의존하지 않는 코드를 작성하라.
* 전역 데이터를 피하라
  * 싱글턴을 사용할 때는 주의를 기울여라. 싱글턴은 불필요한 결합을 만들 수 있다.
* 유사한 함수를 피하라
  * 중복 코드는 구조에 문제가 있다는 징후다.

#### 테스트

직교적으로 설계하고 구현한 시스템은 테스트하기 더 쉽다.

단위 테스트를 작성하는 행위 자체가 직교성을 테스트해 볼 수 있는 기회이다.

### 12. 예광탄

익숙하지 않은 알고리즘, 기술, 언어, 라이브러리를 사용하기도 하므로,\
여러분은 수많은 미지의 것과 맞닥트리게 된다.

목표물을 찾기 위해 예광탄을 써라.

예광탄이 언제나 목표물을 맞히는 것은 아니다.\
그러니 지금 있는 것을 목표물에 더 가까워지도록 바꿔라.

예광탄 코드 대 프로토타이핑

프로토타입은 어떤 개념을 실험해 보느라 대충 끼워 맞추어 구현한 것이므로 모두 버려야 한다.\
그리고 실험 과정에서 얻은 교훈을 바탕으로 코드를 새로 작성한다.
